<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="styles/site.css" rel="stylesheet" type="text/css">
    <link href="../content/shared/styles/examples-offline.css" rel="stylesheet">
    <link href="../../styles/kendo.common.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
    <link href="../../styles/kendo.rtl.min.css" rel="stylesheet">
    <link href="../../styles/kendo.default.min.css" rel="stylesheet">
    <link href="../../styles/kendo.default.mobile.min.css" rel="stylesheet">
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/jszip.min.js"></script>
    <script src="../../js/kendo.all.min.js"></script>
    <script src="../content/shared/js/console.js"></script>
    <script src="/js/app.js"> </script>
  </head>
  <body>
    <header>
      <div class="content-wrapper">
        <div class="float-right">
          <nav>
            <ul id="menu">
              <li><a href="/index.html">Home</a></li>
              <li><a href="/views/movieScheduler2.html">Schedule</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header><a href="../index.html" class="offline-button">Back</a>
    <div id="example" class="k-content">
      <div id="scheduler"></div>
    </div>
    <script id="event-template" type="text/x-kendo-template">
      <div class="movie-template"><img src="#= image #">
        <p>#: kendo.toString(start, "hh:mm") # - #: kendo.toString(end, "hh:mm") #</p>
        <h3>#: title #</h3><a href="#= imdb #">Movie in IMDB</a>
      </div>
    </script>
    <script>
      $(function() {
          var shortMovies = new Array();
          for (var i = 0; i < dataAjax.length; i++) {
            //console.log(i);
            var movieTime = new Date(dataAjax[i].premiered+" "+dataAjax[i].schedule.time);   //
            shortMovies.push({title: dataAjax[i].name, image: dataAjax[i].image.medium, imdb: dataAjax[i].officialSite, start: new Date(dataAjax[i].premiered+" "+dataAjax[i].schedule.time), end: new Date(dataAjax[i].premiered+" "+(movieTime.getHours()+1+":"+(movieTime.getMinutes()+29)))}) ;
          }
          // var obj = JSON.parse(shortMovies);
          console.log(shortMovies);
          $("#scheduler").kendoScheduler({
              date: new Date("2013/6/24"),
              startTime: new Date("2013/6/24 10:00"),
              endTime: new Date("2013/6/24 23:59"),
              height: 600,
              views: [
                  "day",
                  { type: "workWeek", selected: false },
                  {type: "week", selected: true },
                  "month",
                  "agenda",
                  { type: "timeline", eventHeight: 50}
              ],
              editable: true,
              eventTemplate: $("#event-template").html(),
              dataSource: shortMovies
          });
      });
    </script>
  </body>
</html>